# Live Football World Cup Score Board library
## Introduction

This simple library represents the scoreboard of football matches. The scoreboard offers following operations: 
* Start game between two teams
* Update the scores of the ongoing game
* Finish an ongoing game
* Print all ongoing games

## Java requirements
Code was written using following JDK version:
```
java --version
openjdk 17.0.6 2023-01-17
OpenJDK Runtime Environment Temurin-17.0.6+10 (build 17.0.6+10)
OpenJDK 64-Bit Server VM Temurin-17.0.6+10 (build 17.0.6+10, mixed mode)
```

## Compilation
Project can be imported into IntelliJ as a gradle plugin and build in the IDE or can be built in the Command Line/Terminal u
using following command: 

`./gradlew clean build`

## Modules
* `:domain`  
Module contains entities. The single entity for now is called `Game` that represents a single football match. 
* `:usecase`  
Module contains the business logic. For now the module implements four use cases `StartGame`, `UpdateGame`, `FinishGame` and `PrintGame`
* `:controller`  
Adapter module to represent an input point for the library. Controller API is depicted below.
* `:dateformatter`  
Adapter module that implements date formatting. For now user can use ISO-8601 formatter that represents date in a string of 
following pattern: `"yyyy-MM-dd'T'HH:mm:ss.SSSXXX"` where:
  * `yyyy` represents year
  * `MM` represents month number
  * `dd` represents day of the month
  * `HH` represents hour in 24-hours format
  * `mm` represents minutes of an hour
  * `ss` represents seconds in a minute
  * `SSS` represents milliseconds
  * `XXX` represents time-zone
Example date `2023-10-30T07:30:00.000+01:00` represents 30th October 2023 at 7:30am in CET
* `repository`  
Adapter module that contains example implementation of repository. For now user can use in-memory repository implemented
using HashMap. HashMap was selected due to computational complexity of searching an item(O(1)) in average).  

## API documentation of GameController.java
* `public GameDto startGame(final GameDto inputGame)`  
Method that starts the game accepts GameDto as an input. GameDto cannot be null and has to have `homeTeam` and `visitors` fields set.
All other fields will be set in the use case.
Returned GameDto has initial home and visitors scores set to `0` and start
time in a desired String format(depends on the implementation). Game id is autogenerated in the form of UUID. 
* `public void updateGame(final UUID gameId, Integer homeTeamScore, Integer visitorsScore)`  
Method updates the score of the game by the given id. All the parameters have to be non-null.
If the id is missing in the repository the use case will throw `GameNotFoundException`
* `public void finishGame(final UUID gameIdToFinish)`  
Method finishes the game by the given id and removes it from the repository. `gameIdToFinish` cannot be null.
If the id is not found in the repository the use case will throw `GameNotFoundException`
* `public void printScoreboard()`  
Method prints the current scoreboard to the print stream. Desired print stream has to be injected into the use case.
Games are printed in the order of descending total score. In case of the same total scores the most recent game is printed
first. 


## Assumptions
1. Dependency injection is out of scope and depends on the user's preference. 
2. The same applies to running the app. User can create a separate module that requires `:controller` package and run 
methods manually 
3. Simple implementations of controller, date formatter and repository for running the lib can be found in `adapter/*` modules
